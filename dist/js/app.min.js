"use strict";!function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}(),function(){function initHeader(){width=contact.offsetWidth,height=contact.offsetHeight,target={x:0,y:height},contact=document.getElementById("contact"),canvas=document.getElementById("canvas"),canvas.width=width,canvas.height=height,ctx=canvas.getContext("2d"),circles=[];for(var x=0;.5*width>x;x++){var c=new Circle;circles.push(c)}animate()}function addListeners(){window.addEventListener("resize",resize)}function resize(){width=contact.offsetWidth,height=contact.offsetHeight,canvas.width=width,canvas.height=height}function animate(){if(animateHeader){ctx.clearRect(0,0,width,height);for(var i in circles)circles[i].draw()}requestAnimationFrame(animate)}function Circle(){function init(){_this.pos.x=Math.random()*width,_this.pos.y=height+100*Math.random(),_this.alpha=.1+.3*Math.random(),_this.scale=.1+.3*Math.random(),_this.velocity=Math.random()}var _this=this;!function(){_this.pos={},init()}(),this.draw=function(){_this.alpha<=0&&init(),_this.pos.y-=_this.velocity,_this.alpha-=5e-4,ctx.beginPath(),ctx.arc(_this.pos.x,_this.pos.y,10*_this.scale,0,2*Math.PI,!1),ctx.fillStyle="rgba(255,255,255,"+_this.alpha+")",ctx.fill()}}var width,height,contact,canvas,ctx,circles,target,animateHeader=!0;contact=document.getElementById("contact"),initHeader(),addListeners()}();var app=function(document,$){var docElem=document.documentElement,_userAgentInit=function(){docElem.setAttribute("data-useragent",navigator.userAgent)},_init=function(){function initialize(){var styles=[{featureType:"water",elementType:"geometry",stylers:[{visibility:"on"},{color:"#aee2e0"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#abce83"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#769E72"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#7B8758"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{color:"#EBF4A4"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{visibility:"simplified"},{color:"#8dab68"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#5B5B3F"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ABCE83"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#A4C67D"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#9BBF72"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#EBF4A4"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#87ae79"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#7f2200"},{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{visibility:"on"},{weight:4.1}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#495421"}]},{featureType:"administrative.neighborhood",elementType:"labels",stylers:[{visibility:"off"}]}],styledMap=new google.maps.StyledMapType(styles,{name:"Styled Map"}),location=new google.maps.LatLng(40.713287,-73.978343),mapOptions={zoom:16,scrollwheel:!1,center:location,mapTypeContronlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}},map=new google.maps.Map(document.getElementById("map-canvas"),mapOptions);map.mapTypes.set("map_style",styledMap),map.setMapTypeId("map_style"),infowindow=new google.maps.InfoWindow;var image="http://nguyenmanh1507.github.io/leslie-portfolio/dist/images/camera.svg",marker=new google.maps.Marker({map:map,icon:image,place:{location:location,query:"Leslie Studio"},attribution:{source:"Google Maps JavaScript API",webUrl:"https://developers.google.com/maps/"}}),contentString='<div id="content"><h1 id="firstHeading" class="firstHeading">Leslie Studio</h1><div id="bodyContent"><p><b>Leslie</b> Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Exercitationem, vitae? Lorem ipsum dolor sit amet, consectetur adipisicing.</p><p class="work-hour">Work Hours: 08:00 - 17:00 (Mon - Fri)</div></div>',infowindow=new google.maps.InfoWindow({content:contentString,maxWidth:300});google.maps.event.addListener(marker,"click",function(){infowindow.open(map,marker)}),panorama=map.getStreetView(),panorama.setPosition(location),panorama.setPov({heading:265,pitch:0})}function toggleStreetView(){var toggle=panorama.getVisible();toggle===!1?(panorama.setVisible(!0),streetViewBtn.innerHTML="Map View"):(panorama.setVisible(!1),streetViewBtn.innerHTML="Street View")}_userAgentInit();var wTop,wBottom,$w=$(window),$q=$("#quote"),qTop=$q.offset().top,qBottom=qTop+$q.height(),$qBg=$("#quote-bg"),$a=$("#air-balloon-a"),$b=$("#air-balloon-b"),$c=$("#air-balloon-c"),$d=$("#air-balloon-d");Modernizr.touch||$w.scroll(function(){wTop=$w.scrollTop(),wBottom=wTop+$w.height(),wBottom>=qTop&&qBottom>=wTop&&$qBg.css({transform:"translateY("+.1*(qTop-wBottom)+"px)"});var aCheckpoint=qBottom-200;wBottom>=aCheckpoint&&qBottom>=wTop&&($a.css({transform:"translateY("+.3*(aCheckpoint-wBottom)+"px)"}),$b.css({transform:"translateY("+.4*(aCheckpoint-wBottom)+"px)"}),$c.css({transform:"translateY("+.8*(aCheckpoint-wBottom)+"px)"}),$d.css({transform:"translateY("+.4*(aCheckpoint-wBottom)+"px)"}))}),$("#p-item-wrap").mixItUp();var fr=$(".flickr"),modal=$(".modal-wrap"),modalContent=$("#modal-content"),modalLink=($(".modal__img"),$(".modal__link"));fr.on("click",function(e){e.preventDefault();var src,href,w,h,modalContentHTML="",photoId=$(this).data("photo-id"),url="https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&jsoncallback=?",options={api_key:"9661554d9a82404317abb27755785098",photo_id:photoId,format:"json"},getFlickrPhotos=function(data,status){src=data.sizes.size[6].source,w=data.sizes.size[6].width,h=data.sizes.size[6].height,href="https://www.flickr.com/photos/100956874@N08/"+photoId,modalContentHTML+='<img class="modal__img" src="'+src+'">',modalContent.html(modalContentHTML),modalLink.prop("href",href)};$.getJSON(url,options,getFlickrPhotos),modal.fadeIn("fast"),$("body").addClass("no-scroll")}),$(".modal__close").on("click",function(){modal.fadeOut("fast"),modalContent.html(""),$("body").removeClass("no-scroll")}),angular.module("leslie",[]).controller("contactForm",function($scope){$scope.name=void 0,$scope.email=void 0,$scope.message=void 0;var $form=$(".contact"),$contactTitle=$(".contact-title");$scope.sendForm=function(){$.ajax({url:"//formspree.io/nguyenmanh1507@gmail.com",method:"POST",data:{name:$scope.name,email:$scope.email,message:$scope.message},dataType:"json",beforeSend:function(){$form.addClass("is-loading"),console.log("sending...")},complete:function(){$form.removeClass("is-loading").addClass("is-send-success"),$contactTitle.text("Thank you! I'll contact you soon"),console.log("send form success")}})}});var panorama,streetViewBtn=document.getElementById("streetview-btn");streetViewBtn.onclick=toggleStreetView,google.maps.event.addDomListener(window,"load",initialize)};return{init:_init}}(document,jQuery);!function(){app.init()}();